function WulechuanApplyOneStageOneMethodProgrammingPatternToMethodsOwner(e,a){function n(e){return Array.isArray(e)&&e.length>0}function t(a,n,t){if("function"!=typeof a)throw TypeError('A so-called stage is basically a function, with some associated aliases just for conveniences, which not only does some demonded work but also exposes subsequence stages and hides past stages for a given stages operator. Among them, the demonded work is provided by you developer via the first argument, So, when defining a stage, the first argument must be a function, \nwhile the provided value was of type "'+typeof a+'".');2===arguments.length&&(t=n,n=!1);var o=r(t),i=w.length;o.stageIndex=i,o.usingLanguage="";var s={actionAliases:o,allowsToSkip:n,action:function(){if(c)return i===w.length-1?void 0:e;b=i;var n=a.apply(e,arguments);return g(),i===w.length-1?n:e}};return w.push(s),s}function r(e){var a={},t=!1;if("string"==typeof e){if(!e)throw RangeError("An alias for a method must not be an empty string");if(!p)throw TypeError("Before the preferred language is set, the language an alias of a method is in must be specified explicitly.");var r={};r[p]=[e],e=r}else if(!e||"object"!=typeof e)throw TypeError("The action aliases argument must be an object, containing at least one alias which is marked as in a specified language.");for(var o in e){var i=e[o];if(i&&"string"==typeof i&&(i=[i],e[o]=i),n(i)){for(var s=[],g=0;g<i.length;g++){var u=i[g];u&&"string"==typeof u&&s.push(u)}s.length<1?console.warn('Non of the entries in language "'+o+'" are valid.'):(t=!0,a[o]=s,!A[o]&&(T.push(o),A[o]=!0))}}if(!t)throw TypeError("At least one alias is required for a stage action to publish as a method.");return a}function o(e,a){var t=e[a];if(n(t))return e.usingLanguage=a,t;var r,o=!1;for(r in e)if(t=e[r],n(t)){o=!0,e.usingLanguage=r;break}if(!o)throw ReferenceError("No valid aliases in any language for stage "+e.stageIndex+"!");return console.warn("For stage",e.stageIndex,', none of the aliases is in the preferred language ("'+a+'").','\nInstead, aliases in "'+r+'" are exposed as methods.'),t}function i(e){if(!e)throw TypeError("Must specify the natural language to use.");p=e,f()}function s(){w[0].action.apply(e,arguments)}function g(){u(),l(b+1)}function u(){for(var a=0;a<=b;a++)for(var n=w[a].actionAliases,t=n[n.usingLanguage],r=0;r<t.length;r++){var o=t[r];delete e[o]}}function f(){w.length<1||p&&(m[y]=s,h(0,1))}function l(e){var a,n=w.length;for(a=e;a<w.length-1;a++)if(!w[a].allowsToSkip){n=a+1;break}h(e,n)}function h(a,n){for(var t=a;t<n;t++)for(var r=w[t],i=r.action,s=o(r.actionAliases,p),g=0;g<s.length;g++){var u=s[g];e[u]=i}}var c,p,d="addStage",v="setPreferredNaturalLanguageTo",y="startFromFirstStage",m=this,w=[],b=NaN,T=[],A={};a&&"string"==typeof a&&(p=a),m[d]=function(){c=!1,t.apply(m,arguments),m[d]=t,m[v]=i,f()},m[v]=i,m.abort=function(){b>=0?(c=!0,console.error("The process is stopped at stage",b)):console.info("The execution process has not started yet.")}}module.exports=WulechuanApplyOneStageOneMethodProgrammingPatternToMethodsOwner;