function WulechuanApplyOneStageOneMethodProgrammingPatternTo(e){function a(e){return Array.isArray(e)&&e.length>1}function n(a,n,o){if("function"!=typeof a)throw TypeError('A so-called stage is basically a function, with some associated aliases just for conveniences, which not only does some demonded work but also exposes subsequence stages and hides past stages for a given stages operator. Among them, the demonded work is provided by you developer via the first argument, So, when defining a stage, the first argument must be a function, \nwhile the provided value was of type "'+typeof a+'".');2===arguments.length&&(o=n,n=!1),t(o);var r=y.length;o.stageIndex=r,o.usingLanguage="";var i={actionAliases:o,allowsToSkip:n,action:function(){m=r;var n=a.apply(e,arguments);return s(),r===y.length-1?n:e}};return y.push(i),i}function t(e){var n=!1;if(!e||"object"!=typeof e)throw TypeError("The action aliases argument must be an object, containing at least one alias which is marked as in a specified language.");for(var t in e){var o=e[t];o&&"string"==typeof o&&(e[t]=[o],o=e[t]),a(o)&&(n=!0,!b[t]&&(w.push(t),b[t]=!0))}if(!n)throw TypeError("At least one alias is required for a stage action to publish as a method.")}function o(e,n){var t=e[n];if(a(t))return e.usingLanguage=n,t;var o,r=!1;for(o in e)if(t=e[o],a(t)){r=!0,e.usingLanguage=o;break}if(!r)throw ReferenceError("No valid aliases in any language for stage "+e.stageIndex+"!");return console.warn("For stage",e.stageIndex,', none of the aliases is in the preferred language ("'+n+'").','\nInstead, aliases in "'+o+'" are exposed as methods.'),t}function r(e){if(!e)throw TypeError("Must specify the natural language to use.");c=e,g()}function i(){y[0].action.apply(e,arguments)}function s(){u(),y[m].action.apply(e,arguments),0===m&&f(1)}function u(){for(var a=0;a<=m;a++)for(var n=y[a].actionAliases,t=n[n.usingLanguage],o=0;o<t.length;o++){var r=t[o];delete e[r]}}function g(){y.length<1||c&&(v[p]=i,l(0,1))}function f(e){var a,n=y.length;for(a=e;a<y.length-1;a++)if(!y[a].allowsToSkip){n=a+1;break}l(e,n)}function l(a,n){for(var t=a;t<n;t++)for(var r=y[t],i=r.action,s=o(r.actionAliases,c),u=0;u<s.length;u++){var g=s[u];e[g]=i}}var c,h="addStage",d="setPreferredNaturalLanguageTo",p="startFromFirstStage",v=this,y=[],m=NaN,w=[],b={};v[h]=function(e,a,t){n(e,a,t),v[h]=n,v[d]=r,g()},v[d]=r}